<div class="container"> <!-- start of the main cointainer div tag-->
  <div class="row text-center d-none d-md-block"> <!-- outer div for the title -->
    <div class="col">
      <h3 class="mb-5 mt-5">Muftijstvo sandžačko | mape vakufa</h3>
    </div>
  </div> <!-- end outer div for the title -->

  <div class="row mt-3"> <!-- div for the navbars and forms -->
    <div class="col"> <!-- div cols -->
      <nav class="navbar navbar-expand-sm navbar-light navbar-override"> <!-- navbar starts -->
        <div class="container-fluid"> <!-- end of the div container fluid -->
          <a class="navbar-brand">
            <img
              src="../assets/images/logo_muftijstvo.svg"
              alt="logo-muftijstva"
              width="30"
              height="30"
            />
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <div
            class="collapse navbar-collapse justify-content-start"
            id="navbarSupportedContent"
          > <!-- div for search form-->
            <div class="navbar-nav">
              <input
                class="form-control m-1"
                type="search"
                placeholder="Pretraži Vakufe"
                aria-label="Search"
                name="searchTerm"
                [(ngModel)]="searchTerm"
                (ngModelChange)="filterMarkers()"
              />
            </div>
          </div> <!-- end of the div for search form -->

          <div
            class="collapse navbar-collapse justify-content-end"
            id="navbarSupportedContent"
          > <!-- outer div for select forms -->

            <div class="navbar-nav">  <!-- inner div for select forms -->

              <select
                class="form-select m-1"
                [(ngModel)]="selectedVakufType"
                (ngModelChange)="filterMarkers()"
              > <!-- select tag for choosing categories of objects -->

                <option value="" selected>Tip Vakufa</option>
                <option
                  *ngFor="let type of vakufDataDB | uniqueNamesPipe : 'vakufType'"
                  [value]="type.vakufType"
                >
                  {{ type.vakufType | titlecase }}
                </option>

              </select> <!-- end select tag for choosing categories of objects -->

            </div> <!-- end inner div for select forms -->

            <div class="navbar-nav"> <!-- div tag for choosing cities -->

              <select
                class="form-select m-1"
                [(ngModel)]="selectedCity"
                (ngModelChange)="filterMarkers()"
                (ngModelChange)="resetSelectedVakufNames()"
              > <!-- select tag for choosing cities -->

                <option value="" selected>Grad</option>
                <option
                  *ngFor="let cityName of vakufDataDB | uniqueNamesPipe : 'city'"
                  [value]="cityName.city"
                >
                  {{ cityName.city }}
                </option>

              </select><!-- end select tag for choosing places of objects -->
            </div>

            <div class="navbar-nav"> <!-- inner div tag for choosing name of the objects -->
              <select
                *ngIf="selectedVakufType || selectedCity"
                class="form-select m-1"
                [(ngModel)]="filteredVakufNames"
                (ngModelChange)="filterMarkers()"
              > <!--  select tag for choosing name of the objects -->

                <option value="" selected>Naziv Vakufa</option>
                <option
                  *ngFor="let name of visibleVakufNames"
                  [value]="name.vakufName"
                >
                  {{ name.vakufName | ellipsis : 25 }}
                </option>

              </select> <!--  end select tag for choosing name of the objects -->

              <select
                *ngIf="!selectedVakufType && !selectedCity"
                class="form-select m-1"
                [(ngModel)]="filteredVakufNames"
                (ngModelChange)="filterMarkers()"
              > <!--  select tag for choosing name of the objects full list-->

                <option value="" selected>Naziv Vakufa</option>
                <option
                  *ngFor="let name of vakufDataDB"
                  [value]="name.vakufName"
                >
                  {{ name.vakufName | ellipsis : 25 }}
                </option>

              </select> <!--  end select tag for choosing name of the objects full list -->
            
          </div>
        </div> <!-- end div for select forms -->

        </div> <!-- end of the div container fluid -->
      </nav> <!-- navbar ends -->
    </div> <!-- div cols -->
  </div> <!-- end of the div for the navbars and forms -->

  <div class="row">
    <div class="col">
      <div #mapContainer id="map-canvas"></div>
    </div>
  </div>
</div> <!-- end of the main cointainer div tag-->
