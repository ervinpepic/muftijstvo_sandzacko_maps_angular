<!-- start of the main cointainer div tag-->
<div class="container">
  <!-- outer div for the title -->
  <div class="row text-center d-none d-md-block">
    <div class="col">
      <h3 class="mb-5 mt-5">Muftijstvo sandžačko | mapa vakufa</h3>
    </div>
    <!-- end outer div for the title -->
  </div>

  <!-- div for the navbars and forms -->
  <div class="row mt-3">
    <!-- div cols -->
    <div class="col">
      <!-- navbar starts -->
      <nav class="navbar navbar-expand-sm navbar-light navbar-override">
        <!-- end of the div container fluid -->
        <div class="container-fluid">
          <a class="navbar-brand">
            <img
              src="../assets/images/logo_muftijstvo.svg"
              alt="logo-muftijstva"
              width="30"
              height="30"
            />
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <!-- div for search form-->
          <div
          class="collapse navbar-collapse justify-content-start"
          id="navbarSupportedContent"
          >
            <div class="navbar-nav">
              <input
                class="form-control m-1"
                type="search"
                placeholder="Pretraži Vakufe"
                aria-label="Search"
                name="searchTerm"
                [(ngModel)]="searchTerm"
                (ngModelChange)="filterMarkers()"
              />
            </div>
            <!-- end of the div for search form -->
          </div>

          <!-- outer div for select forms -->
          <div
            class="collapse navbar-collapse justify-content-end"
            id="navbarSupportedContent"
          >

          <!-- inner div for select forms -->
            <div class="navbar-nav">

              <!-- select tag for choosing categories of objects -->
              <select
                name="vakufType"
                class="form-select m-1"
                aria-label="Tip Vakufa"
                [(ngModel)]="selectedVakufType"
                (ngModelChange)="filterMarkers()"
              >

                <option value="" selected>Tip Vakufa</option>
                <option
                  *ngFor="
                    let type of vakufDataDB | uniqueNamesPipe : 'vakufType'
                  "
                  [value]="type.vakufType"
                >
                  {{ type.vakufType | titlecase }}
                </option>
                <!-- end select tag for choosing categories of objects -->
              </select>
              <!-- end inner div for select forms -->
            </div>

            <!-- div tag for choosing cities -->
            <div class="navbar-nav">

              <!-- select tag for choosing cities -->
              <select
                name="selectedCity"
                class="form-select m-1"
                aria-label="Grad"
                [(ngModel)]="selectedCity"
                (ngModelChange)="filterMarkers()"
                (ngModelChange)="resetSelectedVakufNames()"
              >

                <option value="" selected>Grad</option>
                <option
                  *ngFor="
                    let cityName of vakufDataDB | uniqueNamesPipe : 'city'
                  "
                  [value]="cityName.city"
                >
                  {{ cityName.city }}
                </option>

                <!-- end select tag for choosing places of objects -->
                </select>
            </div>

            <!-- inner div tag for choosing name of the objects -->
            <div class="navbar-nav">
              <!--  select tag for choosing name of the objects -->
              <select
                name="filteredVakufNames"
                class="form-select m-1"
                aria-label="Naziv Vakufa"
                [(ngModel)]="filteredVakufNames"
                (ngModelChange)="filterMarkers()"
                *ngIf="selectedVakufType || selectedCity"
              >

                <option value="" selected>Naziv Vakufa</option>
                <option
                  *ngFor="let name of visibleVakufNames"
                  [value]="name.vakufName"
                >
                  {{ name.vakufName | ellipsis : 25 }}
                </option>

                <!--  end select tag for choosing name of the objects -->
              </select>

              <!--  select tag for choosing name of the objects full list-->
              <select
                name="filteredVakufNames_source"
                class="form-select m-1"
                aria-label="Naziv Vakufa"
                [(ngModel)]="filteredVakufNames"
                (ngModelChange)="filterMarkers()"
                *ngIf="!selectedVakufType && !selectedCity"
              >

                <option value="" selected>Naziv Vakufa</option>
                <option
                  *ngFor="let name of vakufDataDB"
                  [value]="name.vakufName"
                >
                  {{ name.vakufName | ellipsis : 25 }}
                </option>

                <!--  end select tag for choosing name of the objects full list -->
              </select>
            </div>
            <!-- end div for select forms -->
          </div>
          <!-- end of the div container fluid -->
        </div>
        <!-- navbar ends -->
      </nav>
      <!-- div cols -->
    </div>
    <!-- end of the div for the navbars and forms -->
  </div>

  <div class="row">
    <div class="col">
      <div #mapContainer id="map-canvas"></div>
    </div>
  </div>
</div>
<!-- end of the main cointainer div tag-->
